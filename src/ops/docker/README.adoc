== Docker

Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的 Linux 容器解决方案。

Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。

总体来说，Docker 的接口相当简单，用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。

=== Docker 的用途

* 提供一次性的环境。比如，本地测试他人的软件、持续集成的时候提供单元测试和构建的环境；
* 提供弹性的云服务。因为 Docker 容器可以随开随关，很适合动态扩容和缩容；
* 组建微服务架构。通过多个容器，一台机器可以跑多个服务，因此在本机就可以模拟出微服务架构。

Docker 是一个开源的商业产品，有两个版本——社区版（Community Edition，缩写为 CE）和企业版（Enterprise Edition，缩写为 EE）。企业版包含了一些收费服务，个人开发者一般用不到。下面的介绍都针对社区版。

=== Docker 安装 - Arch Linux

```sh
# 简单安装
sudo pacman -S docker
# Docker 会创建一个系统服务，用下面命令来启动 Docker：
sudo systemctl start docker
# 设置开机启动：
sudo systemctl enable docker
```

=== 配置加速镜像

创建或修改 /etc/docker/daemon.json：

```sh
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
    "registry-mirrors": [
        "https://1nj0zren.mirror.aliyuncs.com",
        "https://docker.mirrors.ustc.edu.cn",
        "http://f1361db2.m.daocloud.io",
        "https://registry.docker-cn.com"
    ]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
```

=== 常用镜像

|===
|名称 |地址 |备注

|Docker 中国官方镜像
|https://registry.docker-cn.com
|

|Azure 中国镜像
|https://dockerhub.azk8s.cn
|

|科大镜像站
|https://docker.mirrors.ustc.edu.cn
|

|七牛云
|https://reg-mirror.qiniu.com
|

|网易云
|https://hub-mirror.c.163.com
|

|腾讯云
|https://mirror.ccs.tencentyun.com
|

|===

=== 其他

*参考资料 - https://segmentfault.com/a/1190000019115546[Docker Hub 镜像加速器]
